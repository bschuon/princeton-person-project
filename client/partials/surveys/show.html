<div>
  <div ng-controller="AdminSurveysController as ctrl" ng-cloak>

                <div class="demo-container" ng-if="ctrl.formData">

                    <uib-tabset active="active">
                        <uib-tab index="0" heading="Builder">
                            <div class="row">
                                <div class="col-md-offset-2 col-md-8">
                                    <div class="form-inline">
                                        <button type="button" style="margin-bottom: 15px" class="btn btn-default" ng-click="ctrl.resetBuilder()">Reset</button>
                                        <button type="button" style="margin-bottom: 15px" class="btn btn-default" ng-click="ctrl.editSurvey()">Save Survey</button>

                                    </div>
                                    <mw-form-builder api="ctrl.formBuilder" options="ctrl.optionsBuilder" form-data="ctrl.formData" form-status="ctrl.formStatus" read-only="ctrl.builderReadOnly" on-image-selection="ctrl.onImageSelection()"></mw-form-builder>
                                </div>
                            </div>
                        </uib-tab>
                        <uib-tab select="ctrl.resetViewer()"  heading="Viewer">
                            <div class="form-inline">
                                <button type="button" style="margin-bottom: 15px" class="btn btn-default" ng-click="ctrl.resetViewer()">Reset</button>
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" ng-model="ctrl.formOptions.autoStart"> Autostart
                                    </label>
                                </div>
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" ng-model="ctrl.viewerReadOnly"> Read only
                                    </label>
                                </div>
                            </div>

                            <mw-form-viewer form-data="ctrl.formData" template-data="ctrl.templateData"  form-status="ctrl.formStatus" options="ctrl.formOptions" api="ctrl.formViewer" response-data="ctrl.responseData" read-only="ctrl.viewerReadOnly" on-submit="ctrl.saveResponse()"></mw-form-viewer>

                            <hr>

                            <div class="checkbox">
                                <label>
                                    <input type="checkbox" ng-model="ctrl.showResponseData"> Show response data
                                </label>
                            </div>
                            <pre ng-if="ctrl.showResponseData">
        {{ctrl.responseData|json}}
                            </pre>
                        </uib-tab>
                        <uib-tab  heading="Model">

                          <div><button type="button" style="margin-bottom: 15px" class="btn btn-default" ng-click="ctrl.updateSurveyModel()">Save</button></div>

                            <textarea id="myTextArea" cols=50 rows=30>
                                {{ctrl.formData|json}}
                            </textarea>

                        </uib-tab>


                    </uib-tabset>

                </div>
            </div>
      </div>
    </div>
  </div>
  </div>
</div>
